goog.provide('dda.c4k_gitea.core');
dda.c4k_gitea.core.config_defaults = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"issuer","issuer",-1199257898),"staging"], null);
dda.c4k_gitea.core.config_QMARK_ = cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-gitea.gitea","fqdn","dda.c4k-gitea.gitea/fqdn",1797078173),new cljs.core.Keyword("dda.c4k-gitea.gitea","mailer-from","dda.c4k-gitea.gitea/mailer-from",-1922018799),new cljs.core.Keyword("dda.c4k-gitea.gitea","mailer-host-port","dda.c4k-gitea.gitea/mailer-host-port",119593858),new cljs.core.Keyword("dda.c4k-gitea.gitea","service-noreply-address","dda.c4k-gitea.gitea/service-noreply-address",1630815598)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-gitea.gitea","issuer","dda.c4k-gitea.gitea/issuer",1277017636),new cljs.core.Keyword("dda.c4k-gitea.gitea","default-app-name","dda.c4k-gitea.gitea/default-app-name",1680274067),new cljs.core.Keyword("dda.c4k-gitea.gitea","service-domain-whitelist","dda.c4k-gitea.gitea/service-domain-whitelist",1743936131),new cljs.core.Keyword("dda.c4k-gitea.backup","restic-repository","dda.c4k-gitea.backup/restic-repository",-1630765047)], null),null,new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__10460){
return cljs.core.map_QMARK_(G__10460);
}),(function (G__10460){
return cljs.core.contains_QMARK_(G__10460,new cljs.core.Keyword(null,"fqdn","fqdn",-494775377));
}),(function (G__10460){
return cljs.core.contains_QMARK_(G__10460,new cljs.core.Keyword(null,"mailer-from","mailer-from",46746467));
}),(function (G__10460){
return cljs.core.contains_QMARK_(G__10460,new cljs.core.Keyword(null,"mailer-host-port","mailer-host-port",1867879604));
}),(function (G__10460){
return cljs.core.contains_QMARK_(G__10460,new cljs.core.Keyword(null,"service-noreply-address","service-noreply-address",-205702396));
})], null),(function (G__10460){
return ((cljs.core.map_QMARK_(G__10460)) && (((cljs.core.contains_QMARK_(G__10460,new cljs.core.Keyword(null,"fqdn","fqdn",-494775377))) && (((cljs.core.contains_QMARK_(G__10460,new cljs.core.Keyword(null,"mailer-from","mailer-from",46746467))) && (((cljs.core.contains_QMARK_(G__10460,new cljs.core.Keyword(null,"mailer-host-port","mailer-host-port",1867879604))) && (cljs.core.contains_QMARK_(G__10460,new cljs.core.Keyword(null,"service-noreply-address","service-noreply-address",-205702396))))))))));
}),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"issuer","issuer",-1199257898),new cljs.core.Keyword(null,"default-app-name","default-app-name",460840317),new cljs.core.Keyword(null,"service-domain-whitelist","service-domain-whitelist",-547788367),new cljs.core.Keyword(null,"restic-repository","restic-repository",539250251)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-gitea.gitea","fqdn","dda.c4k-gitea.gitea/fqdn",1797078173),new cljs.core.Keyword("dda.c4k-gitea.gitea","mailer-from","dda.c4k-gitea.gitea/mailer-from",-1922018799),new cljs.core.Keyword("dda.c4k-gitea.gitea","mailer-host-port","dda.c4k-gitea.gitea/mailer-host-port",119593858),new cljs.core.Keyword("dda.c4k-gitea.gitea","service-noreply-address","dda.c4k-gitea.gitea/service-noreply-address",1630815598)], null),null,new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fqdn","fqdn",-494775377),new cljs.core.Keyword(null,"mailer-from","mailer-from",46746467),new cljs.core.Keyword(null,"mailer-host-port","mailer-host-port",1867879604),new cljs.core.Keyword(null,"service-noreply-address","service-noreply-address",-205702396)], null),new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-gitea.gitea","issuer","dda.c4k-gitea.gitea/issuer",1277017636),new cljs.core.Keyword("dda.c4k-gitea.gitea","default-app-name","dda.c4k-gitea.gitea/default-app-name",1680274067),new cljs.core.Keyword("dda.c4k-gitea.gitea","service-domain-whitelist","dda.c4k-gitea.gitea/service-domain-whitelist",1743936131),new cljs.core.Keyword("dda.c4k-gitea.backup","restic-repository","dda.c4k-gitea.backup/restic-repository",-1630765047)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"fqdn","fqdn",-494775377))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-from","mailer-from",46746467))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-host-port","mailer-host-port",1867879604))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"service-noreply-address","service-noreply-address",-205702396)))], null),null]));
dda.c4k_gitea.core.auth_QMARK_ = cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-common.postgres","postgres-db-user","dda.c4k-common.postgres/postgres-db-user",294546573),new cljs.core.Keyword("dda.c4k-common.postgres","postgres-db-password","dda.c4k-common.postgres/postgres-db-password",262988616),new cljs.core.Keyword("dda.c4k-gitea.gitea","mailer-user","dda.c4k-gitea.gitea/mailer-user",325952486),new cljs.core.Keyword("dda.c4k-gitea.gitea","mailer-pw","dda.c4k-gitea.gitea/mailer-pw",-939506015),new cljs.core.Keyword("dda.c4k-gitea.backup","aws-access-key-id","dda.c4k-gitea.backup/aws-access-key-id",870827920),new cljs.core.Keyword("dda.c4k-gitea.backup","aws-secret-access-key","dda.c4k-gitea.backup/aws-secret-access-key",1476742924)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-gitea.backup","restic-password","dda.c4k-gitea.backup/restic-password",548344413)], null),null,new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__10483){
return cljs.core.map_QMARK_(G__10483);
}),(function (G__10483){
return cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"postgres-db-user","postgres-db-user",1981611945));
}),(function (G__10483){
return cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"postgres-db-password","postgres-db-password",-1958852060));
}),(function (G__10483){
return cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"mailer-user","mailer-user",1809094392));
}),(function (G__10483){
return cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"mailer-pw","mailer-pw",1068974003));
}),(function (G__10483){
return cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"aws-access-key-id","aws-access-key-id",-1304390194));
}),(function (G__10483){
return cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"aws-secret-access-key","aws-secret-access-key",-700318378));
})], null),(function (G__10483){
return ((cljs.core.map_QMARK_(G__10483)) && (((cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"postgres-db-user","postgres-db-user",1981611945))) && (((cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"postgres-db-password","postgres-db-password",-1958852060))) && (((cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"mailer-user","mailer-user",1809094392))) && (((cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"mailer-pw","mailer-pw",1068974003))) && (((cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"aws-access-key-id","aws-access-key-id",-1304390194))) && (cljs.core.contains_QMARK_(G__10483,new cljs.core.Keyword(null,"aws-secret-access-key","aws-secret-access-key",-700318378))))))))))))));
}),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"restic-password","restic-password",-1619763169)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-common.postgres","postgres-db-user","dda.c4k-common.postgres/postgres-db-user",294546573),new cljs.core.Keyword("dda.c4k-common.postgres","postgres-db-password","dda.c4k-common.postgres/postgres-db-password",262988616),new cljs.core.Keyword("dda.c4k-gitea.gitea","mailer-user","dda.c4k-gitea.gitea/mailer-user",325952486),new cljs.core.Keyword("dda.c4k-gitea.gitea","mailer-pw","dda.c4k-gitea.gitea/mailer-pw",-939506015),new cljs.core.Keyword("dda.c4k-gitea.backup","aws-access-key-id","dda.c4k-gitea.backup/aws-access-key-id",870827920),new cljs.core.Keyword("dda.c4k-gitea.backup","aws-secret-access-key","dda.c4k-gitea.backup/aws-secret-access-key",1476742924)], null),null,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"postgres-db-user","postgres-db-user",1981611945),new cljs.core.Keyword(null,"postgres-db-password","postgres-db-password",-1958852060),new cljs.core.Keyword(null,"mailer-user","mailer-user",1809094392),new cljs.core.Keyword(null,"mailer-pw","mailer-pw",1068974003),new cljs.core.Keyword(null,"aws-access-key-id","aws-access-key-id",-1304390194),new cljs.core.Keyword(null,"aws-secret-access-key","aws-secret-access-key",-700318378)], null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-gitea.backup","restic-password","dda.c4k-gitea.backup/restic-password",548344413)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"postgres-db-user","postgres-db-user",1981611945))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"postgres-db-password","postgres-db-password",-1958852060))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-user","mailer-user",1809094392))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-pw","mailer-pw",1068974003))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"aws-access-key-id","aws-access-key-id",-1304390194))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"aws-secret-access-key","aws-secret-access-key",-700318378)))], null),null]));
dda.c4k_gitea.core.vol_QMARK_ = cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-gitea.gitea","volume-total-storage-size","dda.c4k-gitea.gitea/volume-total-storage-size",-832787203)], null),null,null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__10518){
return cljs.core.map_QMARK_(G__10518);
}),(function (G__10518){
return cljs.core.contains_QMARK_(G__10518,new cljs.core.Keyword(null,"volume-total-storage-size","volume-total-storage-size",1173468179));
})], null),(function (G__10518){
return ((cljs.core.map_QMARK_(G__10518)) && (cljs.core.contains_QMARK_(G__10518,new cljs.core.Keyword(null,"volume-total-storage-size","volume-total-storage-size",1173468179))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-gitea.gitea","volume-total-storage-size","dda.c4k-gitea.gitea/volume-total-storage-size",-832787203)], null),null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"volume-total-storage-size","volume-total-storage-size",1173468179)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"volume-total-storage-size","volume-total-storage-size",1173468179)))], null),null]));
dda.c4k_gitea.core.k8s_objects = (function dda$c4k_gitea$core$k8s_objects(config){
var storage_class = ((cljs.core.contains_QMARK_(config,new cljs.core.Keyword(null,"postgres-data-volume-path","postgres-data-volume-path",-2109923699)))?new cljs.core.Keyword(null,"manual","manual",-237370608):new cljs.core.Keyword(null,"local-path","local-path",1524483275));
return cljs.core.map.cljs$core$IFn$_invoke$arity$2(dda.c4k_common.yaml.to_string,cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__10532_SHARP_){
return (!((p1__10532_SHARP_ == null)));
}),dda.c4k_common.common.concat_vec.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentVector(null, 14, 5, cljs.core.PersistentVector.EMPTY_NODE, [dda.c4k_common.postgres.generate_config.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"postgres-size","postgres-size",-1270014308),new cljs.core.Keyword(null,"2gb","2gb",175964494),new cljs.core.Keyword(null,"db-name","db-name",1157928745),"gitea"], null)], 0)),dda.c4k_common.postgres.generate_secret(config),((cljs.core.contains_QMARK_(config,new cljs.core.Keyword(null,"postgres-data-volume-path","postgres-data-volume-path",-2109923699)))?dda.c4k_common.postgres.generate_persistent_volume(cljs.core.select_keys(config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"postgres-data-volume-path","postgres-data-volume-path",-2109923699),new cljs.core.Keyword(null,"pv-storage-size-gb","pv-storage-size-gb",2039291521)], null))):null),dda.c4k_common.postgres.generate_pvc(new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"pv-storage-size-gb","pv-storage-size-gb",2039291521),(5),new cljs.core.Keyword(null,"pvc-storage-class-name","pvc-storage-class-name",1271488579),storage_class], null)),dda.c4k_common.postgres.generate_deployment.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"postgres-image","postgres-image",-308049100),"postgres:14",new cljs.core.Keyword(null,"postgres-size","postgres-size",-1270014308),new cljs.core.Keyword(null,"2gb","2gb",175964494)], null)], 0)),dda.c4k_common.postgres.generate_service(),dda.c4k_gitea.gitea.generate_deployment(),dda.c4k_gitea.gitea.generate_service(),dda.c4k_gitea.gitea.generate_service_ssh(),dda.c4k_gitea.gitea.generate_data_volume(config),dda.c4k_gitea.gitea.generate_appini_env(config),dda.c4k_gitea.gitea.generate_secrets(config),dda.c4k_gitea.gitea.generate_ingress(config),dda.c4k_gitea.gitea.generate_certificate(config)], null),((cljs.core.contains_QMARK_(config,new cljs.core.Keyword(null,"restic-repository","restic-repository",539250251)))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [dda.c4k_gitea.backup.generate_config(config),dda.c4k_gitea.backup.generate_secret(config),dda.c4k_gitea.backup.generate_cron(),dda.c4k_gitea.backup.generate_backup_restore_deployment(config)], null):null)], 0))));
});

//# sourceMappingURL=dda.c4k_gitea.core.js.map
