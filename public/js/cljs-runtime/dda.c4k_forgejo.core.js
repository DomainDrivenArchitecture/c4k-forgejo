goog.provide('dda.c4k_forgejo.core');
dda.c4k_forgejo.core.config_defaults = new cljs.core.PersistentArrayMap(null, 1, [new cljs.core.Keyword(null,"issuer","issuer",-1199257898),"staging"], null);
dda.c4k_forgejo.core.config_QMARK_ = cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-forgejo.forgejo","fqdn","dda.c4k-forgejo.forgejo/fqdn",-686210095),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","deploy-federated","dda.c4k-forgejo.forgejo/deploy-federated",-14143504),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-from","dda.c4k-forgejo.forgejo/mailer-from",-1720436227),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-host","dda.c4k-forgejo.forgejo/mailer-host",239649441),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-port","dda.c4k-forgejo.forgejo/mailer-port",-1400754980),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","service-noreply-address","dda.c4k-forgejo.forgejo/service-noreply-address",1964518762)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-forgejo.forgejo","issuer","dda.c4k-forgejo.forgejo/issuer",941217312),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","default-app-name","dda.c4k-forgejo.forgejo/default-app-name",-1742542185),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","service-domain-whitelist","dda.c4k-forgejo.forgejo/service-domain-whitelist",1677619847),new cljs.core.Keyword("dda.c4k-forgejo.backup","restic-repository","dda.c4k-forgejo.backup/restic-repository",-932989849),new cljs.core.Keyword("dda.c4k-common.monitoring","mon-cfg","dda.c4k-common.monitoring/mon-cfg",1085142824)], null),null,new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__6262){
return cljs.core.map_QMARK_(G__6262);
}),(function (G__6262){
return cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"fqdn","fqdn",-494775377));
}),(function (G__6262){
return cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"deploy-federated","deploy-federated",-1957879598));
}),(function (G__6262){
return cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"mailer-from","mailer-from",46746467));
}),(function (G__6262){
return cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"mailer-host","mailer-host",-1829907585));
}),(function (G__6262){
return cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"mailer-port","mailer-port",690436546));
}),(function (G__6262){
return cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"service-noreply-address","service-noreply-address",-205702396));
})], null),(function (G__6262){
return ((cljs.core.map_QMARK_(G__6262)) && (((cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"fqdn","fqdn",-494775377))) && (((cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"deploy-federated","deploy-federated",-1957879598))) && (((cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"mailer-from","mailer-from",46746467))) && (((cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"mailer-host","mailer-host",-1829907585))) && (((cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"mailer-port","mailer-port",690436546))) && (cljs.core.contains_QMARK_(G__6262,new cljs.core.Keyword(null,"service-noreply-address","service-noreply-address",-205702396))))))))))))));
}),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"issuer","issuer",-1199257898),new cljs.core.Keyword(null,"default-app-name","default-app-name",460840317),new cljs.core.Keyword(null,"service-domain-whitelist","service-domain-whitelist",-547788367),new cljs.core.Keyword(null,"restic-repository","restic-repository",539250251),new cljs.core.Keyword(null,"mon-cfg","mon-cfg",1842383291)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-forgejo.forgejo","fqdn","dda.c4k-forgejo.forgejo/fqdn",-686210095),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","deploy-federated","dda.c4k-forgejo.forgejo/deploy-federated",-14143504),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-from","dda.c4k-forgejo.forgejo/mailer-from",-1720436227),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-host","dda.c4k-forgejo.forgejo/mailer-host",239649441),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-port","dda.c4k-forgejo.forgejo/mailer-port",-1400754980),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","service-noreply-address","dda.c4k-forgejo.forgejo/service-noreply-address",1964518762)], null),null,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"fqdn","fqdn",-494775377),new cljs.core.Keyword(null,"deploy-federated","deploy-federated",-1957879598),new cljs.core.Keyword(null,"mailer-from","mailer-from",46746467),new cljs.core.Keyword(null,"mailer-host","mailer-host",-1829907585),new cljs.core.Keyword(null,"mailer-port","mailer-port",690436546),new cljs.core.Keyword(null,"service-noreply-address","service-noreply-address",-205702396)], null),new cljs.core.PersistentVector(null, 5, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-forgejo.forgejo","issuer","dda.c4k-forgejo.forgejo/issuer",941217312),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","default-app-name","dda.c4k-forgejo.forgejo/default-app-name",-1742542185),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","service-domain-whitelist","dda.c4k-forgejo.forgejo/service-domain-whitelist",1677619847),new cljs.core.Keyword("dda.c4k-forgejo.backup","restic-repository","dda.c4k-forgejo.backup/restic-repository",-932989849),new cljs.core.Keyword("dda.c4k-common.monitoring","mon-cfg","dda.c4k-common.monitoring/mon-cfg",1085142824)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"fqdn","fqdn",-494775377))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"deploy-federated","deploy-federated",-1957879598))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-from","mailer-from",46746467))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-host","mailer-host",-1829907585))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-port","mailer-port",690436546))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"service-noreply-address","service-noreply-address",-205702396)))], null),null]));
dda.c4k_forgejo.core.auth_QMARK_ = cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-common.postgres","postgres-db-user","dda.c4k-common.postgres/postgres-db-user",294546573),new cljs.core.Keyword("dda.c4k-common.postgres","postgres-db-password","dda.c4k-common.postgres/postgres-db-password",262988616),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-user","dda.c4k-forgejo.forgejo/mailer-user",-546726950),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-pw","dda.c4k-forgejo.forgejo/mailer-pw",-1005826611),new cljs.core.Keyword("dda.c4k-forgejo.backup","aws-access-key-id","dda.c4k-forgejo.backup/aws-access-key-id",713087954),new cljs.core.Keyword("dda.c4k-forgejo.backup","aws-secret-access-key","dda.c4k-forgejo.backup/aws-secret-access-key",1854042954)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-forgejo.backup","restic-password","dda.c4k-forgejo.backup/restic-password",120845851),new cljs.core.Keyword("dda.c4k-common.monitoring","mon-cfg","dda.c4k-common.monitoring/mon-cfg",1085142824)], null),null,new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__6263){
return cljs.core.map_QMARK_(G__6263);
}),(function (G__6263){
return cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"postgres-db-user","postgres-db-user",1981611945));
}),(function (G__6263){
return cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"postgres-db-password","postgres-db-password",-1958852060));
}),(function (G__6263){
return cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"mailer-user","mailer-user",1809094392));
}),(function (G__6263){
return cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"mailer-pw","mailer-pw",1068974003));
}),(function (G__6263){
return cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"aws-access-key-id","aws-access-key-id",-1304390194));
}),(function (G__6263){
return cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"aws-secret-access-key","aws-secret-access-key",-700318378));
})], null),(function (G__6263){
return ((cljs.core.map_QMARK_(G__6263)) && (((cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"postgres-db-user","postgres-db-user",1981611945))) && (((cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"postgres-db-password","postgres-db-password",-1958852060))) && (((cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"mailer-user","mailer-user",1809094392))) && (((cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"mailer-pw","mailer-pw",1068974003))) && (((cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"aws-access-key-id","aws-access-key-id",-1304390194))) && (cljs.core.contains_QMARK_(G__6263,new cljs.core.Keyword(null,"aws-secret-access-key","aws-secret-access-key",-700318378))))))))))))));
}),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"restic-password","restic-password",-1619763169),new cljs.core.Keyword(null,"mon-cfg","mon-cfg",1842383291)], null),new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-common.postgres","postgres-db-user","dda.c4k-common.postgres/postgres-db-user",294546573),new cljs.core.Keyword("dda.c4k-common.postgres","postgres-db-password","dda.c4k-common.postgres/postgres-db-password",262988616),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-user","dda.c4k-forgejo.forgejo/mailer-user",-546726950),new cljs.core.Keyword("dda.c4k-forgejo.forgejo","mailer-pw","dda.c4k-forgejo.forgejo/mailer-pw",-1005826611),new cljs.core.Keyword("dda.c4k-forgejo.backup","aws-access-key-id","dda.c4k-forgejo.backup/aws-access-key-id",713087954),new cljs.core.Keyword("dda.c4k-forgejo.backup","aws-secret-access-key","dda.c4k-forgejo.backup/aws-secret-access-key",1854042954)], null),null,new cljs.core.PersistentVector(null, 6, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"postgres-db-user","postgres-db-user",1981611945),new cljs.core.Keyword(null,"postgres-db-password","postgres-db-password",-1958852060),new cljs.core.Keyword(null,"mailer-user","mailer-user",1809094392),new cljs.core.Keyword(null,"mailer-pw","mailer-pw",1068974003),new cljs.core.Keyword(null,"aws-access-key-id","aws-access-key-id",-1304390194),new cljs.core.Keyword(null,"aws-secret-access-key","aws-secret-access-key",-700318378)], null),new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-forgejo.backup","restic-password","dda.c4k-forgejo.backup/restic-password",120845851),new cljs.core.Keyword("dda.c4k-common.monitoring","mon-cfg","dda.c4k-common.monitoring/mon-cfg",1085142824)], null),new cljs.core.PersistentVector(null, 7, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"postgres-db-user","postgres-db-user",1981611945))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"postgres-db-password","postgres-db-password",-1958852060))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-user","mailer-user",1809094392))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"mailer-pw","mailer-pw",1068974003))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"aws-access-key-id","aws-access-key-id",-1304390194))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"aws-secret-access-key","aws-secret-access-key",-700318378)))], null),null]));
dda.c4k_forgejo.core.vol_QMARK_ = cljs.spec.alpha.map_spec_impl(cljs.core.PersistentHashMap.fromArrays([new cljs.core.Keyword(null,"req-un","req-un",1074571008),new cljs.core.Keyword(null,"opt-un","opt-un",883442496),new cljs.core.Keyword(null,"gfn","gfn",791517474),new cljs.core.Keyword(null,"pred-exprs","pred-exprs",1792271395),new cljs.core.Keyword(null,"keys-pred","keys-pred",858984739),new cljs.core.Keyword(null,"opt-keys","opt-keys",1262688261),new cljs.core.Keyword(null,"req-specs","req-specs",553962313),new cljs.core.Keyword(null,"req","req",-326448303),new cljs.core.Keyword(null,"req-keys","req-keys",514319221),new cljs.core.Keyword(null,"opt-specs","opt-specs",-384905450),new cljs.core.Keyword(null,"pred-forms","pred-forms",172611832),new cljs.core.Keyword(null,"opt","opt",-794706369)],[new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-forgejo.forgejo","volume-total-storage-size","dda.c4k-forgejo.forgejo/volume-total-storage-size",-1034386183)], null),null,null,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [(function (G__6265){
return cljs.core.map_QMARK_(G__6265);
}),(function (G__6265){
return cljs.core.contains_QMARK_(G__6265,new cljs.core.Keyword(null,"volume-total-storage-size","volume-total-storage-size",1173468179));
})], null),(function (G__6265){
return ((cljs.core.map_QMARK_(G__6265)) && (cljs.core.contains_QMARK_(G__6265,new cljs.core.Keyword(null,"volume-total-storage-size","volume-total-storage-size",1173468179))));
}),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword("dda.c4k-forgejo.forgejo","volume-total-storage-size","dda.c4k-forgejo.forgejo/volume-total-storage-size",-1034386183)], null),null,new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"volume-total-storage-size","volume-total-storage-size",1173468179)], null),cljs.core.PersistentVector.EMPTY,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","map?","cljs.core/map?",-1390345523,null),new cljs.core.Symbol(null,"%","%",-950237169,null))),cljs.core.list(new cljs.core.Symbol("cljs.core","fn","cljs.core/fn",-1065745098,null),new cljs.core.PersistentVector(null, 1, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Symbol(null,"%","%",-950237169,null)], null),cljs.core.list(new cljs.core.Symbol("cljs.core","contains?","cljs.core/contains?",-976526835,null),new cljs.core.Symbol(null,"%","%",-950237169,null),new cljs.core.Keyword(null,"volume-total-storage-size","volume-total-storage-size",1173468179)))], null),null]));
dda.c4k_forgejo.core.k8s_objects = (function dda$c4k_forgejo$core$k8s_objects(config,auth){
var storage_class = ((cljs.core.contains_QMARK_(config,new cljs.core.Keyword(null,"postgres-data-volume-path","postgres-data-volume-path",-2109923699)))?new cljs.core.Keyword(null,"manual","manual",-237370608):new cljs.core.Keyword(null,"local-path","local-path",1524483275));
return cljs.core.map.cljs$core$IFn$_invoke$arity$2(dda.c4k_common.yaml.to_string,cljs.core.filter.cljs$core$IFn$_invoke$arity$2((function (p1__6266_SHARP_){
return (!((p1__6266_SHARP_ == null)));
}),dda.c4k_common.common.concat_vec.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentVector(null, 12, 5, cljs.core.PersistentVector.EMPTY_NODE, [dda.c4k_common.postgres.generate_config.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"postgres-size","postgres-size",-1270014308),new cljs.core.Keyword(null,"2gb","2gb",175964494),new cljs.core.Keyword(null,"db-name","db-name",1157928745),"forgejo"], null)], 0)),dda.c4k_common.postgres.generate_secret(auth),((cljs.core.contains_QMARK_(config,new cljs.core.Keyword(null,"postgres-data-volume-path","postgres-data-volume-path",-2109923699)))?dda.c4k_common.postgres.generate_persistent_volume(cljs.core.select_keys(config,new cljs.core.PersistentVector(null, 2, 5, cljs.core.PersistentVector.EMPTY_NODE, [new cljs.core.Keyword(null,"postgres-data-volume-path","postgres-data-volume-path",-2109923699),new cljs.core.Keyword(null,"pv-storage-size-gb","pv-storage-size-gb",2039291521)], null))):null),dda.c4k_common.postgres.generate_pvc(new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"pv-storage-size-gb","pv-storage-size-gb",2039291521),(5),new cljs.core.Keyword(null,"pvc-storage-class-name","pvc-storage-class-name",1271488579),storage_class], null)),dda.c4k_common.postgres.generate_deployment.cljs$core$IFn$_invoke$arity$variadic(cljs.core.prim_seq.cljs$core$IFn$_invoke$arity$2([new cljs.core.PersistentArrayMap(null, 2, [new cljs.core.Keyword(null,"postgres-image","postgres-image",-308049100),"postgres:14",new cljs.core.Keyword(null,"postgres-size","postgres-size",-1270014308),new cljs.core.Keyword(null,"2gb","2gb",175964494)], null)], 0)),dda.c4k_common.postgres.generate_service(),dda.c4k_forgejo.forgejo.generate_deployment(config),dda.c4k_forgejo.forgejo.generate_service(),dda.c4k_forgejo.forgejo.generate_service_ssh(),dda.c4k_forgejo.forgejo.generate_data_volume(config),dda.c4k_forgejo.forgejo.generate_appini_env(config),dda.c4k_forgejo.forgejo.generate_secrets(auth)], null),dda.c4k_forgejo.forgejo.generate_ingress_and_cert(config),((cljs.core.contains_QMARK_(config,new cljs.core.Keyword(null,"restic-repository","restic-repository",539250251)))?new cljs.core.PersistentVector(null, 4, 5, cljs.core.PersistentVector.EMPTY_NODE, [dda.c4k_forgejo.backup.generate_config(config),dda.c4k_forgejo.backup.generate_secret(auth),dda.c4k_forgejo.backup.generate_cron(),dda.c4k_forgejo.backup.generate_backup_restore_deployment(config)], null):null),(cljs.core.truth_(new cljs.core.Keyword(null,"contains?","contains?",977623193).cljs$core$IFn$_invoke$arity$2(config,new cljs.core.Keyword(null,"mon-cfg","mon-cfg",1842383291)))?dda.c4k_common.monitoring.generate(new cljs.core.Keyword(null,"mon-cfg","mon-cfg",1842383291).cljs$core$IFn$_invoke$arity$1(config),new cljs.core.Keyword(null,"mon-auth","mon-auth",-992439480).cljs$core$IFn$_invoke$arity$1(auth)):null)], 0))));
});

//# sourceMappingURL=dda.c4k_forgejo.core.js.map
